---
title: Python匿名函数
summary: 详细讲解了python匿名函数的用法
date: 2019-10-18
author: LY
categories:
    - 后端
tags:
    - python语法
---

## 匿名函数概念

有些时候我们使用函数的时候不一定要显示的定义函数，可以直接传输匿名函数来定义

案例：

```python
#计算所有数的平方
print(map(lambda x: x * x, [1, 2, 3, 4, 5, 6, 7, 8, 9]))
#[1, 4, 9, 16, 25, 36, 49, 64, 81]
```

上面的这个匿名函数实际上是

```python
def f(x):
    return x * x
```

**关键字lambda 表示匿名函数，冒号前面的 x 表示函数参数。**

**匿名函数有个限制，就是只能有一个表达式，不写return，返回值就是该表达式的结果。**

```python
#假如要对字典的名字进行排序，一般的sort函数是无法完成这个任务的，此时就可以用到匿名函数
a=[{"name":"ly","age":21},{"name":"aa","age":22},{"name":"zz","age":19}]
a.sort(key=lambda x:x['name'])
print(a)
#[{'name': 'aa', 'age': 22}, {'name': 'ly', 'age': 21}, {'name': 'zz', 'age': 19}]

#第一个x是遍历列表的三个字典，第二个x是把字典里面的'name'这个变量取出来，所以相当于key='name'
```



```python
#倒叙排序列表
sorted([1, 3, 9, 5, 0], lambda x,y: -cmp(x,y))
#[9, 5, 3, 1, 0]
```

```python
#把数值转换为正数
myabs = lambda x: -x if x < 0 else x 
myabs(-1)
#1
myabs(1)
#1
```



```python
#比如要简化filter()的示例代码
#def is_not_empty(s):
#    return s and len(s.strip()) > 0
#filter(is_not_empty, ['test', None, '', 'str', '  ', #'END'])
print filter(lambda s: s and len(s.strip())>0, ['test', None, '', 'str', '  ', 'END'])
#结果
#['test', 'str', 'END']
```

## 匿名函数小应用

```python
def test(a,b,func):
    result=func(a,b)
    return result
num=test(1,2,lambda x,y:x+y)
print(num)
#3
```

这样就可以自定义想要实现的函数了

## 匿名函数面试题

**只用一行代码就对字典的age进行排序**

`a=[{"name":"ly","age":21},{"name":"aa","age":22},{"name":"zz","age":19}]`

答案：

```python
a=[{"name":"ly","age":21},{"name":"aa","age":22},{"name":"zz","age":19}]
a.sort(key=lambda x:x['name'])
print(a)
```

**对字典 d={‘a’:27，‘f’:42，‘w’:12，‘u’:37} 中的 value 值进行排序？**

答案：

```python
sorted(d.items()，key = lambda x:x[1]) 
```



> 这里留个坑，等我到时候拿更多的面试题来详细讲解匿名函数